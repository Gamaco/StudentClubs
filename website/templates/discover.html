{% extends 'layouts/base.html' %}

{% load static %}

{% block content %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- This CSS is only being used only for this page specifically-->
<style>
  html, body {
    overflow-x: hidden !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    user-select: none !important;
  }

  .circled-arrows {
    color: white;
    font-size: 2em;
    user-select: none !important;
  }
  .card-scroll-container {
    position: relative; /* set position to relative */
  }

  .card-container {
    overflow-x: auto; /* add horizontal scroll if needed */
    white-space: nowrap; /* prevent line breaks */
  }
  
  .card-group {
    display: flex;
    flex-wrap: nowrap;
    margin-right: -1rem; /* adjust margin to remove gap between cards */
  }
  
  .card.discovery {
    flex: 0 0 auto;
    width: 20rem; /* adjust as needed */
    margin-right: 1rem; /* add space between cards */
  }
  
  .circled-button {
    position: absolute; /* set position to absolute */
    top: 50%; /* center the button vertically */
    transform: translateY(-50%);
    background-color: #000000cf;
    border: none; /* remove borders */
    border-radius: 50%; /* set border radius to create circle */
    width: 5rem; /* set width and height */
    height: 5rem;
    display: flex; /* center the content horizontally */
    justify-content: center;
    align-items: center;
    font-size: 1.5rem; /* adjust font size */
    color: #000; /* set text color */
    box-shadow: 0 2px 4px rgba(22, 22, 22, 0.855);
    cursor: pointer;
  }
  
  .circled-button:hover {
    background-color: #000000; /* change background color on hover */
  }
  
  .left {
    left: -25px; /* position on left side */
  }
  
  .right {
    right: -25px; /* position on right side */
  }

  @media (min-width: 576px) {
  .card-container {
    overflow-x: hidden;
  }
}

@media (max-width: 576px) {
  .circled-button {
    display: none;
  }
}
</style>

<!-- Main container -->
<div style="max-width: 1000px; margin: 0 auto;">
  <div class="container-fluid no-padding">

    <div class="container rounded text-white custom-bg ms-auto">
      <form>
        <div class="form-group">
          <div class="container-fluid no-padding space-filler"></div>
          <h6>School Information</h6>
          <input type="text" class="form-control inputs-bg text-white btn-outline-secondary" id="school" placeholder="School" name="school">
        </div>
        <div class="form-group">
          <label for="country"></label>
          <input type="text" class="form-control inputs-bg text-white btn-outline-secondary" id="country" placeholder="Country" name="country">
        </div>
        <div class="form-group">
          <label for="city"></label>
          <input type="text" class="form-control inputs-bg text-white btn-outline-secondary" id="city" placeholder="City" name="city">
        </div>
        <div class="container-fluid no-padding space-filler"></div>
        <button type="button" class="btn btn-info"><b>Update Search</b></button>
        <div class="container-fluid no-padding space-filler"></div>
      </form>
    </div>
  </div>

    <!-- Space before content -->
  <div class="container-fluid no-padding space-filler"></div>
  <div class="container-fluid no-padding space-filler space-filler-color"></div>


  <div class="container-fluid no-padding spaced">
    <p class="text-white card-category-title">Social</p>
    <p class="social-count text-white"> - {{ social_count }} Clubs found</p>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="card-scroll-container">
          <div class="card-container d-flex flex-row align-items-center" id="social-container">
            <div class="card-group">
        {% for club in clubs %}
        {% if club.category == 'Social'%}
          <div class="card discovery custom-height custom-bg" style="border: 2px solid #202020 !important;">
            <img src="{{ club.image.url }}" class="card-img-top" alt="Club Image">
            <div class="card-body">
                <h7 class="card-title text-white"> {{club.name}} </h7>
              <div class="custom-hr"></div>
              <div class="card-footer">
                <form>
                  <a class="btn btn-info pt-2" href="{% url 'clubinformation' club.id %}"><b>View</b></a>
                </form>
              </div>
              <p class="card-text text-wrap text-white">{{ club.description }}</p>
            </div>
          </div>
        {% endif %}
        {% endfor %}
          <div class="circled-button left"><span class="circled-arrows">&#10096;</span></div>
          <div class="circled-button right"><span class="circled-arrows">&#10097;</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Space after content -->
  <div class="container-fluid space-filler"></div>
  <div class="container-fluid space-filler space-filler-color"></div>


  <div class="container-fluid no-padding spaced">
    <p class="text-white card-category-title">Academic</p>
    <p class="social-count text-white"> - {{ academic_count }} Clubs found</p>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="card-scroll-container">
          <div class="card-container d-flex flex-row align-items-center" id="gaming-container">
            <div class="card-group">
        {% for club in clubs %}
        {% if club.category == 'Academic'%}
          <div class="card discovery custom-height custom-bg" style="border: 2px solid #202020 !important;">
            <img src="{{ club.image.url }}" class="card-img-top" alt="Club Image">
            <div class="card-body">
                <h7 class="card-title text-white"> {{club.name}} </h7>
              <div class="custom-hr"></div>
              <div class="card-footer">
                <form>
                  <a class="btn btn-info pt-2" href="{% url 'clubinformation' club.id %}"><b>View</b></a>
                </form>
              </div>
              <p class="card-text text-wrap text-white">{{ club.description }}</p>
            </div>
          </div>
        {% endif %}
        {% endfor %}
          <div class="circled-button left"><span class="circled-arrows">&#10096;</span></div>
          <div class="circled-button right"><span class="circled-arrows">&#10097;</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Space after content -->
  <div class="container-fluid space-filler"></div>
  <div class="container-fluid space-filler space-filler-color"></div>


      <!-- Reminder to myself: don't touch these two last divs-->
  </div>
</div>

<!-- Space after content -->
<div class="invisible container-fluid space-filler big"></div>
<div class="invisible container-fluid space-filler big"></div>
<!-- Space after content -->

<script>
$(document).ready(function() {
  $(".circled-button.right").click(function() {
    var containerId = $(this).closest(".card-scroll-container").find(".card-container").attr("id");
    $("#" + containerId).animate({scrollLeft: "+=300"}, 500);
  });

  $(".circled-button.left").click(function() {
    var containerId = $(this).closest(".card-scroll-container").find(".card-container").attr("id");
    $("#" + containerId).animate({scrollLeft: "-=300"}, 500);
  });
});
</script>

{% endblock %}